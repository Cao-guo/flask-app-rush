{%extends "layouts/base.html"%}

{% block title %}invocie display{% endblock title %} 
{% block content %}
<script src="https://cdn.fusioncharts.com/fusioncharts/latest/fusioncharts.js"></script>
<script src="https://cdn.fusioncharts.com/fusioncharts/latest/themes/fusioncharts.theme.candy.js"></script>
<script>
    var data = JSON.parse({{ gridData| tojson | safe}})
    const dataSource = {
      chart: {
        caption:"Membership Information",
        theme: "invocie",

      },
      columns: [
        {
          label: "MSID",
          datatype: "string"
        },
        {
          label: "MEID",
          datatype: "string"
        },
        {
          label: "Start Date",
          datatype: "string"
        },
        {
          label: "End Date",
          datatype: "string"
        },
        {
          label: "Invoice Date",
          datatype: "string"
        },
        {
          label: "Due Date",
          datatype: "string"
        },
        {
          label: "Amount",
          datatype: "number"
        },
        {
          label: "Paid Date",
          datatype: "string"
        }
      ],
      
        data: data        
      };
      console.log(dataSource)
      FusionCharts.ready(function() {
        var myChart = new FusionCharts({
          type: "bar2d",
          renderAt: "chart-container",
          width: "100%",
          height: "100%",
          dataFormat: "json",
          dataSource: dataSource
        }).render();
      });

    </script>



<main id="main">

    <section class="inner-page">
        <div class="container">
          <br>
          <br>
          <!--column and bar chart/simple bar-->

          <div id="chart-container"></div>


          <!--jinjia-->
          {%with messages = get_flashed_messages()%}
            {% if messages %}
            <ul>
              {%for message in messages%}
              <li>{{message}}</li>
              {% endfor %}
            </ul>
            {%endif%}
          {%endwith%}

        </div>
      </section>
 


  </main><!-- End #main -->

  {% endblock content %}